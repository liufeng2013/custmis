KISSY.Editor.add("format/support",function(){function d(a){d.superclass.constructor.call(this,a);this._init()}var e=KISSY.Editor,f=KISSY,i=f.Node;d.ATTRS={editor:{}};var g=e.Select;f.extend(d,f.Base,{_init:function(){var a=this.get("editor");this.el=new g({container:a.toolBarDiv,value:"",doc:a.document,width:this.get("width"),popUpWidth:this.get("popUpWidth"),title:this.get("title"),items:this.get("html"),menuContainer:new i(document.body)});this.el.on("click",this._vChange,this);a.on("selectionChange",
this._selectionChange,this);e.Utils.sourceDisable(a,this)},disable:function(){this.el.set("state",g.DISABLED)},enable:function(){this.el.set("state",g.ENABLED)},_vChange:function(a){var b=this.get("editor"),c=this.get("formatStyles"),h=a.newVal;a=a.prevVal;b.fire("save");if(h!=a)c[h].apply(b.document);else{c.p.apply(b.document);this.el.set("value","p")}b.fire("save")},_selectionChange:function(a){this.get("editor");var b=this.get("formatStyles");a=a.path;for(var c in b)if(b[c].checkActive(a)){this.el.set("value",
c);break}}});e.Format=d});
