KISSY.add("ext-constrain",function(c){function f(){c.log("constrain init");this.on("bindUI",this._bindUIConstrain,this);this.on("renderUI",this._renderUIConstrain,this);this.on("syncUI",this._syncUIConstrain,this)}function g(b){var a=undefined;if(!b)return a;var d=this.get("el");if(b!==true){b=new h(b);a=b.offset();c.mix(a,{maxLeft:a.left+b[0].offsetWidth-d[0].offsetWidth,maxTop:a.top+b[0].offsetHeight-d[0].offsetHeight})}else{a={left:e.scrollLeft(),top:e.scrollTop()};c.mix(a,{maxLeft:a.left+e.viewportWidth()-
d[0].offsetWidth,maxTop:a.top+e.viewportHeight()-d[0].offsetHeight})}return a}c.namespace("Ext");var e=c.DOM,h=c.Node;f.ATTRS={constrain:{value:false}};f.prototype={_bindUIConstrain:function(){c.log("_bindUIConstrain");var b=this;b.on("beforeXChange",function(a){a=a.newVal;var d=g.call(b,b.get("constrain"));if(d)if(a>=d.maxLeft||a<=d.left)return false});b.on("beforeYChange",function(a){a=a.newVal;var d=g.call(b,b.get("constrain"));if(d)if(a>=d.maxTop||a<=d.top)return false})},_renderUIConstrain:function(){c.log("_renderUIConstrain")},
_syncUIConstrain:function(){c.log("_syncUIConstrain")},_uiSetConstrain:function(){c.log("_uiSetConstrain")},__destructor:function(){c.log("constrain-ext __destructor")}};c.Ext.Constrain=f});
